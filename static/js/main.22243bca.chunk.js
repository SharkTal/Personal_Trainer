(this.webpackJsonptrainer2=this.webpackJsonptrainer2||[]).push([[0],{197:function(e,t,n){},198:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(18),c=n.n(i),s=(n(197),n(198),n(6)),o=n(8),l=n(32),d=n(4),j=n(279),u=n(40),m=n(89),h=n(22),b=n(287),f=n(280),O=n(292),g=n(293),p=n(290),x=n(289),v=n(291),C=n(169),y=n.n(C),w=n(170),S=n.n(w),k=n(171),D=n.n(k),W=n(295),T=n(296),N=n(297),P=n(294),E=n(172),A=n.n(E),F=n(173),R=n.n(F),L=n(98),B=(n(157),n(158),n(286)),G=n(118),H=n.n(G),I=n(298),J=n(283),M=n(299),Y=n(303),z=n(302),U=n(301),q=n(161),K=n.n(q),Q=n(102),V=n.n(Q),X=n(2),Z=function(e){var t=r.a.useState(!1),n=Object(o.a)(t,2),i=n[0],c=n[1],d=Object(a.useState)({firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),j=Object(o.a)(d,2),u=j[0],m=j[1],h=function(){c(!1)},b=function(e){m(Object(l.a)(Object(l.a)({},u),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(X.jsxs)("div",{children:[Object(X.jsxs)(I.a,{style:{marginTop:20},variant:"outlined",color:"primary",onClick:function(){c(!0)},children:[Object(X.jsx)(K.a,{})," ",Object(X.jsx)(V.a,{})]}),Object(X.jsxs)(M.a,{open:i,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(X.jsx)(U.a,{id:"form-dialog-title",children:"Add new customer"}),Object(X.jsxs)(z.a,{children:[Object(X.jsx)(J.a,{margin:"dense",label:"Firstname",value:u.firstname,name:"firstname",onChange:b,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Lastname",value:u.lastname,name:"lastname",onChange:b,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Streetaddress",value:u.streetaddress,name:"streetaddress",onChange:b,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Postcode",value:u.postcode,name:"postcode",onChange:b,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"City",value:u.city,name:"city",onChange:b,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Email",value:u.email,name:"email",onChange:b,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Phone",value:u.phone,name:"phone",onChange:b,fullWidth:!0})]}),Object(X.jsxs)(Y.a,{children:[Object(X.jsx)(I.a,{onClick:h,color:"primary",children:"Cancel"}),Object(X.jsx)(I.a,{onClick:function(){e.addCustomer(u),c(!1)},color:"primary",children:"Add"})]})]})]})},$=n(162),_=n.n($),ee=function(e){var t=r.a.useState(!1),n=Object(o.a)(t,2),i=n[0],c=n[1],d=Object(a.useState)({firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),j=Object(o.a)(d,2),u=j[0],m=j[1],h=function(){c(!1)},b=function(e){m(Object(l.a)(Object(l.a)({},u),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(X.jsxs)("div",{children:[Object(X.jsx)(I.a,{color:"primary",onClick:function(){c(!0),console.log(e.customer),console.log(e.link),m({firstname:e.customer.firstname,lastname:e.customer.lastname,streetaddress:e.customer.streetaddress,postcode:e.customer.postcode,city:e.customer.city,email:e.customer.email,phone:e.customer.phone})},children:Object(X.jsx)(_.a,{})}),Object(X.jsxs)(M.a,{open:i,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(X.jsx)(U.a,{id:"form-dialog-title",children:"Edit customer information"}),Object(X.jsxs)(z.a,{children:[Object(X.jsx)(J.a,{margin:"dense",label:"Firstname",value:u.firstname,name:"firstname",onChange:b,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Lastname",value:u.lastname,name:"lastname",onChange:b,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Streetaddress",value:u.streetaddress,name:"streetaddress",onChange:b,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Postcode",value:u.postcode,name:"postcode",onChange:b,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"City",value:u.city,name:"city",onChange:b,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Email",value:u.email,name:"email",onChange:b,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Phone",value:u.phone,name:"phone",onChange:b,fullWidth:!0})]}),Object(X.jsxs)(Y.a,{children:[Object(X.jsx)(I.a,{onClick:h,color:"primary",children:"Cancel"}),Object(X.jsx)(I.a,{onClick:function(){e.editCustomer(e.link,u),c(!1)},color:"primary",children:"Save"})]})]})]})},te=n(163),ne=n.n(te),ae=n(282),re=n(278),ie=n(281),ce=function(e){var t=r.a.useState(!1),n=Object(o.a)(t,2),i=n[0],c=n[1],d=Object(a.useState)({}),j=Object(o.a)(d,2),u=j[0],m=j[1],h=Object(a.useState)({date:new Date,activity:"",duration:"",customer:""}),b=Object(o.a)(h,2),f=b[0],O=b[1],g=function(){c(!1)},p=function(e){O(Object(l.a)(Object(l.a)({},f),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(X.jsxs)("div",{children:[Object(X.jsxs)(I.a,{style:{marginTop:20},variant:"outlined",color:"primary",onClick:function(){null!=e.selectedCustomer?(fetch(e.selectedCustomer.links[1].href).then((function(e){return e.json()})).then((function(e){return m(e)})),O(Object(l.a)(Object(l.a)({},f),{},{customer:e.selectedCustomer.links[1].href})),console.log(f.customer),c(!0)):alert("Please select a customer first !")},children:[Object(X.jsx)(ne.a,{})," ",Object(X.jsx)(V.a,{})]}),Object(X.jsxs)(M.a,{open:i,onClose:g,"aria-labelledby":"form-dialog-title",children:[Object(X.jsx)(U.a,{id:"form-dialog-title",children:"Add new trainings"}),Object(X.jsxs)(z.a,{children:[Object(X.jsx)(re.b,{dateAdapter:ae.a,children:Object(X.jsx)(ie.a,{renderInput:function(e){return Object(X.jsx)(J.a,Object(l.a)({},e))},label:"DateTimePicker",value:f.value,onChange:function(e){return t=(t=e).toISOString(),void O(Object(l.a)(Object(l.a)({},f),{},{date:t}));var t}})}),Object(X.jsx)(J.a,{margin:"dense",label:"Duration",value:f.duration,name:"duration",onChange:p,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Activity",value:f.activity,name:"activity",onChange:p,fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Firstname",value:u.firstname,name:"firstname",fullWidth:!0}),Object(X.jsx)(J.a,{margin:"dense",label:"Lastname",value:u.lastname,name:"lastname",fullWidth:!0})]}),Object(X.jsxs)(Y.a,{children:[Object(X.jsx)(I.a,{onClick:g,color:"primary",children:"Cancel"}),Object(X.jsx)(I.a,{onClick:function(){e.saveTraining(f),c(!1)},color:"primary",children:"Add"})]})]})]})},se=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),c=Object(o.a)(i,2),s=c[0],l=c[1],d=Object(a.useState)(),j=Object(o.a)(d,2),u=j[0],m=j[1],h=Object(a.useState)(null),b=Object(o.a)(h,2),f=b[0],O=b[1],g=Object(a.useState)(null),p=Object(o.a)(g,2)[1],x=Object(a.useState)(null),C=Object(o.a)(x,2),y=C[0],w=C[1],S=function(){l(!0)},k=function(){fetch("https://customerrest.herokuapp.com/api/customers").then((function(e){return e.json()})).then((function(e){return r(e.content)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){return k()}),[]);var D=function(e,t){fetch(e,{method:"PUT",body:JSON.stringify(t),headers:{"Content-type":"application/json"}}).then((function(e){e.ok?(m("Customer was edited!"),k(),S()):alert("Editing is wrong")})).catch((function(e){return console.log(e)}))},W=[{field:"firstname",sortable:!0,filter:!0,rowGroup:!0,hide:!0},{field:"lastname",sortable:!0,filter:!0},{field:"streetaddress",sortable:!0,filter:!0},{field:"postcode",sortable:!0,filter:!0},{field:"city",sortable:!0,filter:!0},{field:"email",sortable:!0,filter:!0},{field:"phone",sortable:!0,filter:!0},{headName:"",width:100,field:"",cellRendererFramework:function(e){return Object(X.jsx)(ee,{link:e.data.links[0].href,customer:e.data,editCustomer:D})}},{headName:"",width:100,field:"",cellRendererFramework:function(e){return Object(X.jsx)(v.a,{onClick:function(){return t=e.data.links[0].href,void(window.confirm("Are you sure?")&&fetch(t,{method:"DELETE"}).then((function(e){e.ok?(m("Customer was deleted!"),k(),S()):alert("Something went wrong!")})).catch((function(e){return console.error(e)})));var t},children:Object(X.jsx)(H.a,{color:"secondary"})})}}];return Object(X.jsxs)("div",{style:{paddingTop:80,height:"100%",width:"90%",margin:"auto"},children:[Object(X.jsx)(Z,{style:{marginTop:100},addCustomer:function(e){fetch("https://customerrest.herokuapp.com/api/customers",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}}).then((function(e){e.ok?(m("Customer was added"),k(),S()):alert("Failed to add new customer!")}))}}),Object(X.jsx)(ce,{selectedCustomer:y,saveTraining:function(e){console.log(e),fetch("https://customerrest.herokuapp.com/api/trainings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){alert("Training added Succesfully")})).catch((function(e){return console.error(e)}))}}),Object(X.jsx)("div",{className:"ag-theme-material",style:{height:700,width:"100%",margin:"auto"},children:Object(X.jsx)(L.AgGridReact,{rowData:n,columnDefs:W,pagination:!0,paginationPageSize:10,suppressCellSelection:!0,rowSelection:"single",onGridReady:function(e){O(e.api),p(e.columnApi)},onSelectionChanged:function(){var e=f.getSelectedRows();console.log(e[0]),w(e[0])},autoGroupColumnDef:{headerName:"Firstname",field:"firstname",minWidth:250,cellRenderer:"agGroupCellRenderer",cellRendererParams:{checkbox:!0}}})}),Object(X.jsx)(B.a,{open:s,autoHideDuration:3e3,message:u,onClose:function(){l(!1)}})]})},oe=n(165),le=n.n(oe);function de(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=function(){fetch("https://customerrest.herokuapp.com/gettrainings").then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return console.log(e)}))};Object(a.useEffect)((function(){return i()}),[]);var c=[{field:"customer.firstname"},{field:"customer.lastname"},{field:"customer.id"},{field:"date",cellRendererFramework:function(e){return Object(X.jsx)(le.a,{format:"DD.MM.YYYY HH:mm",date:e.data.date})}},{field:"duration"},{field:"activity"},{headName:"",width:100,field:"",cellRendererFramework:function(e){return Object(X.jsx)(v.a,{onClick:function(){return t=e.data.id,console.log(t),void(window.confirm("Are you sure?")&&fetch("https://customerrest.herokuapp.com/api/trainings/"+t,{method:"DELETE"}).then((function(e){e.ok?(alert("Customer was deleted!"),i()):alert("Something went wrong!")})).catch((function(e){return console.error(e)})));var t},children:Object(X.jsx)(H.a,{color:"secondary"})})}}];return Object(X.jsx)("div",{style:{paddingTop:80,height:"100%",width:"90%",margin:"auto"},children:Object(X.jsx)("div",{className:"ag-theme-material",style:{height:700,width:"100%",margin:"auto"},children:Object(X.jsx)(L.AgGridReact,{rowData:n,columnDefs:c,pagination:!0,paginationPageSize:10,suppressCellSelection:!0})})})}var je=n(144),ue=n(87),me=n.n(ue);n(211);function he(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(je.b)(me.a);Object(a.useEffect)((function(){return s()}),[]);var s=function(){fetch("https://customerrest.herokuapp.com/gettrainings").then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(e){return console.error(e)}))},l=n.map((function(e){return{startDate:me()(e.date).toDate(),endDate:me()(e.date).add(e.duration,"minutes").toDate(),title:e.customer.firstname+" "+e.customer.lastname+": "+e.activity}}));return Object(X.jsx)("div",{style:{paddingTop:80,height:"100%",width:"90%",margin:"auto"},children:Object(X.jsx)(je.a,{localizer:c,events:l,startAccessor:"startDate",endAccessor:"endDate",showMultiDayTimes:!0,components:{timeSlotWrapper:function(e){var t=e.children;return r.a.cloneElement(r.a.Children.only(t),{style:{backgroundColor:"lightblue"}})}},style:{margin:20,height:"80vh"}})})}var be=n(174),fe=n.n(be),Oe=240,ge=Object(j.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Oe,"px)"),marginLeft:Oe,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:Oe,flexShrink:0},drawerPaper:{width:Oe},drawerHeader:Object(l.a)(Object(l.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},link:{textDecoration:"none",color:e.palette.text.primary}}}));function pe(){var e=ge(),t=Object(u.a)(),n=r.a.useState(!1),a=Object(o.a)(n,2),i=a[0],c=a[1];return Object(X.jsxs)("div",{className:e.root,children:[Object(X.jsx)(f.a,{}),Object(X.jsx)(O.a,{position:"fixed",className:Object(d.a)(e.appBar,Object(s.a)({},e.appBarShift,i)),children:Object(X.jsxs)(g.a,{children:[Object(X.jsx)(v.a,{color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},edge:"start",className:Object(d.a)(e.menuButton,i&&e.hide),children:Object(X.jsx)(y.a,{})}),Object(X.jsx)(x.a,{variant:"h6",noWrap:!0,children:"Personal trainers"})]})}),Object(X.jsxs)(m.a,{children:[Object(X.jsxs)(b.a,{className:e.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:e.drawerPaper},children:[Object(X.jsx)("div",{className:e.drawerHeader,children:Object(X.jsx)(v.a,{onClick:function(){c(!1)},children:"ltr"===t.direction?Object(X.jsx)(S.a,{}):Object(X.jsx)(D.a,{})})}),Object(X.jsx)(P.a,{}),Object(X.jsxs)(p.a,{children:[Object(X.jsx)(m.b,{to:"/",className:e.link,children:Object(X.jsxs)(W.a,{children:[Object(X.jsx)(T.a,{children:Object(X.jsx)(A.a,{})}),Object(X.jsx)(N.a,{primary:"Customers"})]})}),Object(X.jsx)(m.b,{to:"/trainings",className:e.link,children:Object(X.jsxs)(W.a,{button:!0,children:[Object(X.jsx)(T.a,{children:Object(X.jsx)(R.a,{})}),Object(X.jsx)(N.a,{primary:"Trainings"})]})}),Object(X.jsx)(m.b,{to:"/calendar",className:e.link,children:Object(X.jsxs)(W.a,{button:!0,children:[Object(X.jsx)(T.a,{children:Object(X.jsx)(fe.a,{})}),Object(X.jsx)(N.a,{primary:"Calendar"})]})})]})]}),Object(X.jsx)(P.a,{}),Object(X.jsxs)(h.c,{children:[Object(X.jsxs)(h.a,{exact:!0,path:"/",children:[" ",Object(X.jsx)(se,{})]}),Object(X.jsx)(h.a,{exact:!0,path:"/trainings",children:Object(X.jsx)(de,{})}),Object(X.jsx)(h.a,{exact:!0,path:"/calendar",children:Object(X.jsx)(he,{})})]})]})]})}var xe=function(){return Object(X.jsx)("div",{className:"App",children:Object(X.jsx)(pe,{})})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,305)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(X.jsx)(r.a.StrictMode,{children:Object(X.jsx)(xe,{})}),document.getElementById("root")),ve()}},[[213,1,2]]]);
//# sourceMappingURL=main.22243bca.chunk.js.map